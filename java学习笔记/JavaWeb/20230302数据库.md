# 数据库
DB (dataBase) 数据库
DBMS (dataBase Manger System) 数据库管理系统

关系型数据库
常见的数据库管理系统比如:mysql(免费，开源) Oracle(付费,支持windows，unix，Os等多种平台)  
sqlServer(微软，只能运行在windows) 

非关系型数据库(数据在虚拟内存里)
 Redius

## sql
sql 可以用来在关系数据库上执行数据操作

  
  
  sql可分为:
     
     
     数据定义语言(DDL) 
          CREATE 创建
          ALETR   修改
          DROP  删除
          TRYNCATE  删除表数据
     
     
     
     数据操纵语言(DML)
          INSERT 插入
          UPDATE 更新
          DELETE  删除
     
     
     
     事务控制语言(TCL)
          COMMIT 提交 确认已经进行的数据改变
          ROLLBACK 回滚 取消  已经进行的数据改变
          SAVEPOINT 保存点 使当前的食事务可以回退到指定的保存点
    
    
    
     数据查询语言(DQL) 
           SELECT 查询
     
     
     数据控制语言(DCL)
             GRANT 授予用户权限
             REVOKE 收回用户或者角色的使用
             CREATE USER 创建用户
     
    
    
 数据库中事务是自动开始执行的，只要执行了DML语句那么事务就开始了

     sql语句的本身不区分大小写，但是为了可读性关键字全部大写，非关键字全部小写
### 创建

#### 创建仓库
创建仓库时不设置字符集，默认是系统的字符集
```sql
CREATE DATABASE 仓库名 CHARACTER SET 字符集
```
#### 创建表
```sql
CREATE TABLE 表名 IF NOT EXISTS(
     字段名 类型 [约束 默认值 字段说明]
)
```

#### 插入数据
```sql
INSERT INTO 表名 (字段名) VALUES (值)
```
#### 复制添加
```sql
INSERT INTO 表名 (字段名)  SELECT (字段名) FROM 表名 
```
### 修改

#### 修改字符集

```sql
ALTER DATABASE 仓库名 CHARACTER SET 字符集 
```
#### 修改字段名称
```sql
 ALTER 表名 TABLE CHANGE 旧字段名 新字段名 类型
```
#### 修改字段类型
```sql
ALTER TABLE 表名 MODIFY 字段名 新类型
```
#### 修改表格数据
```sql
UPDATE 表名 SET 字段名=  WHERE 限制条件
```
### 查询

#### 查询当前使用的仓库

```sql
SELECT DATABASE()
```
#### 查询表结构
```sql
DESC 表名
```
#### 查询全部
```sql 
SELECT * FROM 表名
```
#### 查询部分
```sql
SELECT 字段名,字段名 FROM 表名
```
#### 条件查询

```sql
 SELECT * FROM  表名 WHERE 条件 
 SELECT * FROM  表名 WHERE 条件1 OR 条件2
 SELECT * FROM  表名 WHERE 条件1 AND 条件2
 SELECT * FROM  表名 WHERE 字段名 BETWEEN MAX AND MIN;
 --模糊查询--
 SELECT * FROM 表名 LIKE 字段名="%%%"  
  --空值查询--
 SELECT * FROM 表名 WHERE IS NULL
 --去重查询--
 SELECT DISTINCT 字段 FROM  表
 --分组查询 根据指定的字段进行分组操作，字段中值相同的划分为一组--
 SELECT 分组字段 , 聚合函数 FROM 表名 GROUP BY 分组字段

 --分组查询后进行条件筛选--

 SELECT 分组字段,聚合函数 FROM 表名 GROUP BY 分组字段 HAVING 条件

 --排序查询(默认升序)--

 SELECT * FROM 表名 ORDER BY 排序字段

   -------降序---
   SELECT * FROM 表名 ORDER BY 字段名 DESC


   ----多字段排序(根据字段1 进行排序，相同部分按照字段2 )---

   SELECT * FROM 表名 ORDER BY 字段1,字段2,字段三

   --分页查询--

   SELECT * FROM LIMIT 0,10
 
    ---别名---
   SELECT 字段名 AS 别名 FROM 表名；
```
### 删除

#### 删除仓库

```sql
DROP DATABASE 仓库名
```
####  删除表
```sql
DROP TABLE 表名
```

#### 删除字段
```sql
ALTER TABLE 表名 DROP COLUMN 字段名;
```
#### 删除表中部分数据
具有事务记录，在删除记录时可以找回
```sql
DELETE FROM 表名
```
#### 清空表中所有数据
不具有事务记录，清空的数据无法找回
```sql
 TRUNCATE TABLE 表名
```
### 约束
 约束就是字段下的值添加限制条配件，分别是五个约束:非空约束(不能为空 NOT NULL)，唯一约束(不能出现重复的值 UNIQUE),主键约束(PRIMARY KEY ,非空且唯一，一张表中只能有一个主键)，外键约束(FOREIGN KEY REFERENCES 关联表名(关联字段) 外键约束是建立量表之间的关联，外键约束所在的表称为从表，依托的表称为主表)，检查约束(在MYSQL中不支持)，自增约束(AUTO_INCREMENT),默认值约束 (default 值)            